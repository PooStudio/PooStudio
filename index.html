<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="PooStudio: Forged in chaos. Absurd creative power." />
    <meta name="theme-color" content="#000000" />
    <title>PooStudio</title>

    <link rel="icon" href="logo.png" type="image/png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Permanent+Marker&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
</head>

<body>
    <canvas id="noise" aria-hidden="true"></canvas>
    <div id="particles" aria-hidden="true"></div>
    <div id="starsContainer" aria-hidden="true"></div>
    <div id="three-container" aria-hidden="true"></div>

    <div id="overlay">
        <header>
            <div class="logo">
                <img src="logo.png" alt="PooStudio logo">
            </div>

            <nav aria-label="Primary navigation">
                <ul>
                    <li><a href="#home">HOME</a></li>
                    <li><a href="https://discord.gg/6nF9ABgJxW" target="_blank" rel="noopener noreferrer">DISCORD</a></li>
                    <li><a href="terms.html" target="_blank" rel="noopener noreferrer">TERMS</a></li>
                    <li><a href="privacy.html" target="_blank" rel="noopener noreferrer">PRIVACY</a></li>
                </ul>
            </nav>
        </header>

        <section id="home" class="hero-text" aria-labelledby="hero-title">
            <div class="text-left">
                <span class="accent">○ WE ARE</span>
                <p>
                    a pioneer in chaotic creation<br>
                    blending dark medieval grit<br>
                    with absurd modern madness —<br>
                    powerful, fast, and<br>
                    unhinged.
                </p>
            </div>

            <h1 id="hero-title">POOSTUDIO</h1>

            <div class="text-right">
                <span class="accent">○ WE ARE</span>
                <p>
                    building the world's next-<br>
                    generation creative platform<br>
                    from the depths up.
                </p>
            </div>

            <div class="scroll-indicator" aria-hidden="true">
                SCROLL
                <div class="circle"></div>
            </div>
        </section>
    </div>

    <main>
    </main>

    <footer>
        <p>© <span id="year"></span> PooStudio</p>

        <div class="footer-particles" aria-hidden="true">
            <span></span><span></span><span></span><span></span><span></span>
        </div>
    </footer>

    <noscript>
        <div class="noscript-warning" role="status">
            This site works best with JavaScript enabled.
        </div>
    </noscript>

    <script src="script.js"></script>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>

    <div id="tosModal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.92); backdrop-filter: blur(8px); z-index: 9999; align-items: center; justify-content: center; padding: 2rem; color: #fff;">
        <div role="dialog" aria-modal="true" aria-labelledby="tosTitle" aria-describedby="tosDesc" style="background: #0f0f1a; color: #e0e0ff; padding: 2.5rem; border-radius: 16px; max-width: 680px; width: 100%; box-shadow: 0 12px 40px rgba(0,0,0,0.6); border: 1px solid #3a3a5a;">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 1.5rem;">
                <h2 id="tosTitle" style="margin:0; font-family: 'Orbitron', sans-serif; font-size:1.6rem; background: linear-gradient(to right,#8b5cf6,#d946ef); -webkit-background-clip: text; color: transparent;">
                    ENTER THE CHAOS — AGREE TO CONTINUE
                </h2>
                <button id="tosCloseBtn" aria-label="Close dialog" style="background:transparent; border:none; font-size:1.6rem; color:#ff6b6b; cursor:pointer;">✕</button>
            </div>

            <p id="tosDesc" style="margin: 1.5rem 0; line-height:1.6; font-size:1.1rem;">
                By continuing, you accept our 
                <a href="terms.html" target="_blank" style="color:#c084fc; text-decoration:underline;">Terms of Service</a> 
                and 
                <a href="privacy.html" target="_blank" style="color:#c084fc; text-decoration:underline;">Privacy Policy</a>.
            </p>

            <div style="display:flex; gap:1rem; justify-content:flex-end; margin-top:2rem;">
                <button id="tosDeclineBtn" style="padding:0.9rem 1.8rem; background:#dc2626; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold; font-size:1.05rem;">DECLINE (GET OUT)</button>
                <button id="tosAcceptBtn" style="padding:0.9rem 1.8rem; background:linear-gradient(90deg,#8b5cf6,#d946ef); color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold; font-size:1.05rem;">I ACCEPT — LET'S GO</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tosModal     = document.getElementById('tosModal');
            const acceptBtn    = document.getElementById('tosAcceptBtn');
            const declineBtn   = document.getElementById('tosDeclineBtn');
            const closeBtn     = document.getElementById('tosCloseBtn');

            if (!tosModal) return;

            const showModal = () => {
                tosModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                acceptBtn?.focus();
            };

            const hideModal = () => {
                tosModal.style.display = 'none';
                document.body.style.overflow = '';
            };

            const params = new URLSearchParams(location.search);
            if (!localStorage.getItem('tosAccepted') || params.get('showTos') === '1') {
                showModal();
            }

            acceptBtn?.addEventListener('click', () => {
                localStorage.setItem('tosAccepted', 'true');
                hideModal();
            });

            const blockAccess = () => {
                document.body.innerHTML = `
                    <div style="height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:center; background:#000; color:#ff4d4d; font-family:'Orbitron',sans-serif; text-align:center; padding:2rem;">
                        <h1 style="font-size:4rem; margin:0;">ACCESS DENIED</h1>
                        <p style="font-size:1.6rem; margin:2rem 0;">You declined the chaos.<br>Come back when you're ready to embrace it.</p>
                        <p style="opacity:0.6; font-size:1.1rem;">(refresh page to try again)</p>
                    </div>`;
            };

            declineBtn?.addEventListener('click', blockAccess);
            closeBtn?.addEventListener('click', hideModal);

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') hideModal();
            });

            tosModal.addEventListener('click', e => {
                if (e.target === tosModal) hideModal();
            });
        });
    </script>

    <script>
        document.addEventListener("contextmenu", e => e.preventDefault());
    </script>

</body>
</html>