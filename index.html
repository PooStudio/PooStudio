<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="PooStudio: Forged in chaos. Absurd creative power." />
    <meta name="theme-color" content="#000000" />
    <title>PooStudio</title>

    <link rel="icon" href="logo.png" type="image/png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Permanent+Marker&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- three.js (defer so it loads after parsing) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
</head>

<body>
    <!-- Decorative / background elements -->
    <canvas id="noise" aria-hidden="true"></canvas>
    <div id="particles" aria-hidden="true"></div>
    <div id="starsContainer" aria-hidden="true"></div>
    <div id="three-container" aria-hidden="true"></div>

    <div id="overlay">
        <header>
            <div class="logo">
                <img src="logo.png" alt="PooStudio logo">
            </div>

            <nav aria-label="Primary navigation">
                <ul>
                    <li><a href="#home">HOME</a></li>
                    <li><a href="https://discord.gg/6nF9ABgJxW" target="_blank" rel="noopener noreferrer">DISCORD</a></li>
                    <li><a href="privacy.html">PRIVACY</a></li>
                </ul>
            </nav>
        </header>

        <section id="home" class="hero-text" aria-labelledby="hero-title">
            <div class="text-left">
                <span class="accent">○ WE ARE</span>
                <p>
                    a pioneer in chaotic creation<br>
                    blending dark medieval grit<br>
                    with absurd modern madness —<br>
                    powerful, fast, and<br>
                    unhinged.
                </p>
            </div>

            <h1 id="hero-title">POOSTUDIO</h1>

            <div class="text-right">
                <span class="accent">○ WE ARE</span>
                <p>
                    building the world's next-<br>
                    generation creative platform<br>
                    from the depths up.
                </p>
            </div>

            <div class="scroll-indicator" aria-hidden="true">
                SCROLL
                <div class="circle"></div>
            </div>
        </section>
    </div>

    <main>
        <!-- Main content goes here -->
    </main>

    <footer>
        <p>© <span id="year" aria-hidden="true"></span> PooStudio</p>

        <div class="footer-particles" aria-hidden="true">
            <span></span><span></span><span></span><span></span><span></span>
        </div>
    </footer>

    <noscript>
        <div class="noscript-warning" role="status">
            This site works best with JavaScript enabled.
        </div>
    </noscript>

    <!-- Main script (kept at end so DOM is available) -->
    <script src="script.js"></script>

    <script>
        // Set current year in footer
        const yearEl = document.getElementById('year');
        if (yearEl) yearEl.textContent = new Date().getFullYear();
    </script>

   <script>
    document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById('tosModal');
        const accept = document.getElementById('tosAcceptBtn');
        const decline = document.getElementById('tosDeclineBtn');
        const closeBtn = document.getElementById('tosCloseBtn');

        if (!modal) return;

        const show = () => {
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            accept?.focus();
        };

        const hide = () => {
            modal.style.display = 'none';
            document.body.style.overflow = '';
        };

        // Show on first visit or if forced
        if (!localStorage.getItem('pooChaosAccepted') || new URLSearchParams(location.search).get('showTos') === '1') {
            show();
        }

        accept?.addEventListener('click', () => {
            localStorage.setItem('pooChaosAccepted', Date.now().toString());
            hide();
        });

        decline?.addEventListener('click', () => {
            // You can make this mean something more dramatic if you want
            alert("The void remembers your cowardice...");
            hide(); // or window.location = "https://www.google.com/search?q=how+to+live+with+regret";
        });

        closeBtn?.addEventListener('click', hide);
        modal?.addEventListener('click', e => { if (e.target === modal) hide(); });
        document.addEventListener('keydown', e => { if (e.key === 'Escape') hide(); });
    });
</script>

    <script>
        // optional: disable context menu (you already had this)
        document.addEventListener("contextmenu", e => {
            e.preventDefault();
        });
    </script>

</body>
</html>
