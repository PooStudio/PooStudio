<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="PooStudio: Forged in chaos. Absurd creative power." />
    <meta name="theme-color" content="#000000" />
    <title>PooStudio</title>
    <link rel="icon" href="logo.png" type="image/png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Permanent+Marker&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
</head>

<body>
    <canvas id="noise" aria-hidden="true"></canvas>
    <div id="particles" aria-hidden="true"></div>
    <div id="starsContainer" aria-hidden="true"></div>
    <div id="three-container" aria-hidden="true"></div>

    <div id="overlay">
        <header>
            <div class="logo">
                <img src="logo.png" alt="PooStudio logo">
            </div>

            <nav aria-label="Primary navigation">
                <ul>
                    <li><a href="#home">HOME</a></li>
                    <li><a href="https://discord.gg/6nF9ABgJxW" target="_blank" rel="noopener noreferrer">DISCORD</a></li>
                    <li><a href="privacy.html">PRIVACY</a></li>
                </ul>
            </nav>
        </header>

        <section id="home" class="hero-text" aria-labelledby="hero-title">
            <div class="text-left">
                <span class="accent">○ WE ARE</span>
                <p>
                    a pioneer in chaotic creation<br>
                    blending dark medieval grit<br>
                    with absurd modern madness —<br>
                    powerful, fast, and<br>
                    unhinged.
                </p>
            </div>

            <h1 id="hero-title">POOSTUDIO</h1>

            <div class="text-right">
                <span class="accent">○ WE ARE</span>
                <p>
                    building the world's next-<br>
                    generation creative platform<br>
                    from the depths up.
                </p>
            </div>

            <div class="scroll-indicator" aria-hidden="true">
                SCROLL
                <div class="circle"></div>
            </div>
        </section>
    </div>

    <main>
    </main>

    <footer>
        <p>© <span id="year" aria-hidden="true"></span> PooStudio</p>

        <div class="footer-particles" aria-hidden="true">
            <span></span><span></span><span></span><span></span><span></span>
        </div>
    </footer>

    <noscript>
        <div class="noscript-warning" role="status">
            This site works best with JavaScript enabled.
        </div>
    </noscript>

    <div id="tosModal" style="display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 9999; align-items: center; justify-content: center; padding: 1.5rem;">
        <div role="dialog" aria-modal="true" aria-labelledby="tosTitle" style="background: white; color: #1f2937; padding: 2rem; border-radius: 12px; max-width: 500px; width: 100%; box-shadow: 0 10px 25px rgba(0,0,0,0.25); font-family: system-ui, -apple-system, sans-serif; line-height: 1.5;">
            
            <h2 id="tosTitle" style="margin: 0 0 1.25rem; font-size: 1.5rem; font-weight: 600; color: #111827;">
                Welcome to PooStudio
            </h2>

            <p style="margin: 0 0 1.5rem; font-size: 1rem; color: #4b5563;">
                To continue, please review and accept our<br>
                <a href="terms.html" target="_blank" rel="noopener noreferrer" style="color: #6366f1; text-decoration: underline; font-weight: 500;">Terms of Service</a>
                and
                <a href="privacy.html" target="_blank" rel="noopener noreferrer" style="color: #6366f1; text-decoration: underline; font-weight: 500;">Privacy Policy</a>.
            </p>

            <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 1.5rem;">
                <button id="tosDeclineBtn" style="padding: 0.75rem 1.5rem; background: #f3f4f6; color: #374151; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">Decline</button>
                <button id="tosAcceptBtn" style="padding: 0.75rem 1.5rem; background: #6366f1; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 500;">Accept & Continue</button>
            </div>

            <button id="tosCloseBtn" aria-label="Close dialog" style="position: absolute; top: 1rem; right: 1rem; background: transparent; border: none; color: #6b7280; font-size: 1.5rem; cursor: pointer;">×</button>
        </div>
    </div>
    <script src="script.js"></script>

    <script>
        const yearEl = document.getElementById('year');
        if (yearEl) yearEl.textContent = new Date().getFullYear();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('tosModal');
            const acceptBtn = document.getElementById('tosAcceptBtn');
            const declineBtn = document.getElementById('tosDeclineBtn');
            const closeBtn = document.getElementById('tosCloseBtn');

            if (!modal) return;

            const showModal = () => {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
                acceptBtn?.focus();
            };

            const hideModal = () => {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            };

            const params = new URLSearchParams(window.location.search);
            if (!localStorage.getItem('pooTosAccepted') || params.get('showTos') === '1') {
                showModal();
            }

            acceptBtn?.addEventListener('click', () => {
                localStorage.setItem('pooTosAccepted', 'true');
                hideModal();
            });

            declineBtn?.addEventListener('click', () => {
                hideModal();
            });

            closeBtn?.addEventListener('click', hideModal);

            modal.addEventListener('click', e => {
                if (e.target === modal) hideModal();
            });

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') hideModal();
            });
        });
    </script>

    <script>
        // Optional: disable right-click (remove if not needed)
        document.addEventListener("contextmenu", e => {
            e.preventDefault();
        });
    </script>

</body>
</html>