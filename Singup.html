<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>POOSTUDIO Application</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="signupcss.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Inter:wght@400;500&display=swap" rel="stylesheet">
</head>

<body>

<!-- LOADING SCREEN -->
<div id="loading-screen">
  <div class="loading-content">
    <div class="loading-title">POOSTUDIO</div>
    <div class="loading-bar">
      <div class="loading-progress" id="progress"></div>
    </div>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="container" id="container">
  <h1 class="glow-text">DEV / MOD APPLICATION</h1>
  <p class="subtitle">
    We take this process seriously.<br>
    Selected applicants <strong>MUST</strong> complete a face-to-face call.
  </p>

  <form id="form" action="https://formspree.io/f/mykkgpqq" method="POST">
    <label>NAME</label>
    <input name="name" required>

    <label>EMAIL</label>
    <input type="email" name="email" required>

    <label>ROLE</label>
    <select name="role" required>
      <option value="">Select role</option>
      <option>Developer</option>
      <option>Moderator</option>
      <option>Both</option>
    </select>

    <label>WHY SHOULD WE PICK YOU?</label>
    <textarea name="why" rows="5" required></textarea>

    <button id="submit">SUBMIT APPLICATION</button>
  </form>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-brand">
      <span class="footer-logo">POOSTUDIO</span>
      <p class="footer-copy">
        Â© <span id="year"></span> PooStudio. All rights reserved.
      </p>
    </div>

    <div class="footer-links">
      <a href="index.html">Home</a>
      <a href="privacy.html">Privacy</a>
      <a href="terms.html">Terms</a>
    </div>
  </div>

  <div class="footer-particles" aria-hidden="true">
    <span></span><span></span><span></span><span></span><span></span>
  </div>
</footer>

<script>
/* YEAR */
document.getElementById("year").textContent = new Date().getFullYear();

/* LOADING SCREEN */
let p = 0;
const bar = document.getElementById("progress");
const loading = document.getElementById("loading-screen");
const container = document.getElementById("container");

const loader = setInterval(() => {
  p += Math.random() * 15;
  bar.style.width = Math.min(p,100) + "%";
  if (p >= 100) {
    clearInterval(loader);
    loading.style.display = "none";
    container.style.display = "block";
  }
}, 120);

/* 24 HOUR COOLDOWN */
const KEY = "poostudio_apply_time";
const DAY = 86400000;
const form = document.getElementById("form");

function lock(ms) {
  container.innerHTML = `
    <div class="locked">
      <h2 class="glow-text">APPLICATION LOCKED</h2>
      <p>You may only apply once every 24 hours.</p>
      <div class="timer" id="t"></div>
      <p>A face-to-face call is mandatory.</p>
      <a href="index.html" class="back-btn">BACK TO HOME</a>
    </div>`;
  const t = document.getElementById("t");
  setInterval(() => {
    const r = ms - Date.now();
    if (r <= 0) location.reload();
    t.textContent =
      Math.floor(r/3600000) + "h " +
      Math.floor(r/60000)%60 + "m " +
      Math.floor(r/1000)%60 + "s";
  }, 1000);
}

const last = localStorage.getItem(KEY);
if (last && Date.now() - last < DAY) {
  lock(Number(last) + DAY);
}

form.addEventListener("submit", () => {
  localStorage.setItem(KEY, Date.now());
});
</script>

</body>
</html>
