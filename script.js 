window.addEventListener("load", () => {
    document.getElementById("year").textContent = new Date().getFullYear();
    const starsContainer = document.getElementById("starsContainer");
    let idleTimeout;
    const idleTime = 30000;
    function createStar() {
        const star = document.createElement("div");
        star.classList.add("star");
        star.style.left = `${Math.random() * 100}vw`;
        star.style.animationDuration = `${Math.random() * 2 + 1}s`;
        starsContainer.appendChild(star);
        // Remove star after animation
        setTimeout(() => {
            star.remove();
        }, 3000); // Match animation duration
    }
    function startStars() {
        starsContainer.style.display = "block";
        const interval = setInterval(createStar, 200);
        return interval;
    }
    function stopStars(interval) {
        clearInterval(interval);
        starsContainer.innerHTML = "";
        starsContainer.style.display = "none";
    }
    let starsInterval;
    function resetIdleTimer() {
        clearTimeout(idleTimeout);
        if (starsInterval) {
            stopStars(starsInterval);
            starsInterval = null;
        }
        idleTimeout = setTimeout(() => {
            starsInterval = startStars();
        }, idleTime);
    }
    window.addEventListener("mousemove", resetIdleTimer);
    window.addEventListener("keydown", resetIdleTimer);
    window.addEventListener("scroll", resetIdleTimer);
    window.addEventListener("touchstart", resetIdleTimer); // For mobile
    resetIdleTimer();
});